{"version":3,"names":["React","forwardRef","useCallback","useEffect","useImperativeHandle","useState","Icon","useBackHandler","useAppState","Animated","StyleSheet","View","checkFullCapacity","createGlobalFunctionsInWebviewContext","init","navigateToLoginPage","reloadWebView","removeThemeSwitcher","retryLogin","WebView","RNWebView","CHAT_PAGE","LOGIN_PAGE","USER_AGENT","ChatGptError","useWebViewAnimation","parseStreamedGptResponse","getStatusText","ModalWebView","ref","accessToken","onLoginCompleted","onAccessTokenChange","onAccumulatedResponse","onStreamError","containerStyles","backdropStyles","renderCustomCloseIcon","appState","status","setStatus","animatedStyles","animateWebView","onAnimationStart","onAnimationEnd","mode","onWebviewRefChange","webviewRef","open","getCurrentStatus","currentStatus","closeModal","styles","container","webview","display","event","url","loading","nativeEvent","startsWith","uri","payload","type","JSON","parse","data","Object","keys","headers","newAuthToken","Authorization","result","error","statusCode","e","closeButton","backdrop","create","absoluteFillObject","backgroundColor","position","elevation","zIndex","top","left","right","bottom","borderRadius","overflow","flex","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius"],"sourceRoot":"../../src","sources":["ModalWebView.tsx"],"mappings":"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"}