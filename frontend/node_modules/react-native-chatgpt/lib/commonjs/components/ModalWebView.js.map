{"version":3,"names":["ModalWebView","forwardRef","ref","accessToken","onLoginCompleted","onAccessTokenChange","onAccumulatedResponse","onStreamError","containerStyles","backdropStyles","renderCustomCloseIcon","appState","useAppState","status","setStatus","useState","animatedStyles","animateWebView","useWebViewAnimation","onAnimationStart","onAnimationEnd","mode","onWebviewRefChange","useCallback","webviewRef","init","useImperativeHandle","open","useEffect","checkFullCapacity","getCurrentStatus","currentStatus","reloadWebView","useBackHandler","closeModal","styles","container","webview","display","createGlobalFunctionsInWebviewContext","event","url","loading","nativeEvent","startsWith","LOGIN_PAGE","removeThemeSwitcher","uri","CHAT_PAGE","USER_AGENT","payload","type","JSON","parse","data","Object","keys","headers","newAuthToken","Authorization","navigateToLoginPage","result","parseStreamedGptResponse","retryLogin","error","ChatGptError","getStatusText","statusCode","e","closeButton","backdrop","StyleSheet","create","absoluteFillObject","backgroundColor","position","elevation","zIndex","top","left","right","bottom","borderRadius","overflow","flex","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius"],"sourceRoot":"../../src","sources":["ModalWebView.tsx"],"mappings":"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"}