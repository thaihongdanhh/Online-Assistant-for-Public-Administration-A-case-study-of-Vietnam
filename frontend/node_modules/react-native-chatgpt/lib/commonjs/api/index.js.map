{"version":3,"names":["webview","init","webviewRef","createGlobalFunctionsInWebviewContext","HOST_URL","CHAT_PAGE","PROMPT_ENDPOINT","postStreamedMessage","accessToken","message","messageId","uuid","v4","conversationId","timeout","STREAMED_REQUEST_DEFAULT_TIMEOUT","newMessageId","script","injectJavaScript","postMessage","REQUEST_DEFAULT_TIMEOUT","onTokenExpired","controller","AbortController","timeoutId","setTimeout","abort","error","ChatGptError","statusCode","url","body","action","messages","id","role","content","content_type","parts","model","parent_message_id","conversation_id","res","fetch","method","JSON","stringify","headers","getChatGptConversationHeaders","mode","signal","clearTimeout","status","reloadWebView","getStatusText","statusText","rawText","text","parsedData","parseStreamedGptResponse","reload","removeThemeSwitcher","wait","checkFullCapacity","retryLogin","navigateToLoginPage","LOGIN_PAGE"],"sourceRoot":"../../src","sources":["index.ts"],"mappings":";;;;;;;;;;;;;AAAA;AACA;AACA;AAQA;AACA;AAGA;AACA;AAAmD;AAEnD,IAAIA,OAAsC;AAEnC,MAAMC,IAAI,GAAIC,UAAyC,IAAK;EACjEF,OAAO,GAAGE,UAAU;AACtB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAUO,MAAMC,qCAAqC,GAAG,MAAM;EACzD,OAAQ;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqBC,mBAAS;AAC9B,uBAAuBC,oBAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqBC,0BAAgB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA;AAFA;AAGO,SAASC,mBAAmB,OAMb;EAAA;EAAA,IANc;IAClCC,WAAW;IACXC,OAAO;IACPC,SAAS,GAAGC,wBAAI,CAACC,EAAE,EAAY;IAC/BC,cAAc;IACdC,OAAO,GAAGC;EACO,CAAC;EAClB,MAAMC,YAAY,GAAGL,wBAAI,CAACC,EAAE,EAAY;EACxC,IAAIK,MAAM,GAAG,EAAE;EACf,IAAIJ,cAAc,EAAE;IAClBI,MAAM,GAAI;AACd;AACA,wBAAwBT,WAAY;AACpC,oBAAoBC,OAAQ;AAC5B,s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"}